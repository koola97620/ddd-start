# 1 도메인 모델 시작

- 소프트웨어로 해결하고자 하는 문제 영역을 도메인 이라 한다
- 도메인은 몇 개의 하위 도메인으로 이루어 질 수 있다
- 한 하위 도메인은 다른 하위 도메인과 연동하여 완전한 기능을 제공한다
- 도메인을 위한 모든 기능을 직접 구현 할 필요는 없다 (배송, 결제)
  - 하위 도메인을 어떻게 구성할지 여부는 상황에 따라 달라진다

## 도메인 모델

특정 도메인을 개념적으로 표현한 것

- 도메인 모델을 사용하면 도메인을 이해하는데 도움이 된다
- 도메인이 제공하는 기능, 주요 데이터 구성을 파악할 수 있다
- 도메인 모델은 도메인 자체를 이해하기 위한 개념 모델이다
  - 클래스 또는 상태 다이어그램, 객체 모델, 수학공식 등 표현 방식은 중요하지 않다

- 각 하위 도메인이 다루는 영역이 다르기 때문에 같은 용어라도 하위 도메인 마다 의미가 다를 수 있다
- 카탈로그 도메인의 상품 과 배송 도메인의 상품은 의미가 다를 수 있다
- 모델의 각 구성요소는 특정 도메인을 한정할 때 의미가 완전해지기 때문에, 각 하위 도메인마다 별도로 모델을 만들어야 한다
- 카탈로그 하위 도메인 모델, 배송 하위 도메인 모델은 따로 만들어야 한다

## 도메인 모델 패턴

도메인 모델은 도메인 자체를 표현하는 개념 모델을 의미하지만,
도메인 계층을 구현할 때 사용하는 객체 모델을 언급할 때에도 도메인 모델이란 용어를 사용한다.


- 사용자 인터페이스(UI) or 표현(Presentation)
- 응용 (Application)
- 도메인 (Domain)
  - 도메인의 핵심 규칙을 구현한 코드가 도메인 계층에 위치
  - ex) 배송지 변경 여부를 판단할 때, 주문 상태와 다른 정보를 함께 사용해야 한다면 OrderState 만으로는 배송지 변경 가능 여부를 판단할 수 없다. 그래서 Order에 로직을 구현해야 한다.
- 인프라스트럭처 (Infrastructure)


## 도메인 모델 도출

도메인을 모델링할 때 기본이 되는 작업은 모델을 구성하는 핵심 구성요소,규칙,기능을 찾는 것이다


## 엔티티와 밸류

엔티티와 밸류를 제대로 구분해야 도메인을 올바르게 설계,구현할 수 있다

### 엔티티

- 엔티티는 식별자를 갖는다
- 식별자는 엔티티 객체마다 고유해서 각 엔티티는 서로 다른 식별자를 갖는다
- 주문도메인에서의 주문번호는 주문마다 서로 다르다 -> 주문번호가 식별자가 된다
- 엔티티의 식별자는 바뀌지 않으며 고유하다. 식별자가 같으면 두 엔티티는 같다

